includes:
    - phpstan-baseline.neon

parameters:
    level: 4
    paths:
        - src
        - config
    tmpDir: build/phpstan
    checkOctaneCompatibility: true
    checkModelProperties: true
    bootstrapFiles:
        - tests/TestCase.php
    excludePaths:
        - src/Pages/StandardLogin.php
    ignoreErrors:
        # External dependencies that are not available during static analysis
        - '#Class App\\Models\\User not found#'
        
        # SPIDAuth library method signature issues - external library
        - '#Method Italia\\SPIDAuth\\SPIDAuth::login\(\) invoked with 3 parameters, 0 required#'
        - '#Call to an undefined method Italia\\SPIDAuth\\SPIDAuth::getSPMetadata\(\)#'
        
        # Config files are allowed to use env() calls
        - '#Called .*env.*outside of the config directory#'